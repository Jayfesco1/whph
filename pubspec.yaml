name: whph
description: WHPH (Work Hard Play Hard) - A comprehensive productivity app designed to help you manage tasks, develop new habits, and optimize your time.
publish_to: "none"
topics:
  - productivity
  - task-management
  - habit-tracking
  - time-management
  - cross-platform

homepage: whph.ahmetcetinkaya.me
repository: https://github.com/ahmet-cetinkaya/whph
issue_tracker: https://github.com/ahmet-cetinkaya/whph/issues
documentation: https://github.com/ahmet-cetinkaya/whph/blob/main/README.md

environment:
  sdk: '>=3.0.0 <4.0.0'

dependencies:
  # Base Logic & DI
  mediatr: ^0.2.1
  get_it: ^8.0.0
  dart_json_mapper: ^2.2.16
  acore:
    path: ./src/lib/corePackages/acore

  # Database & Infrastructure
  drift: ^2.16.0
  sqlite3: ^2.4.3
  path: ^1.9.0
  shelf: ^1.4.1
  http: ^1.1.0
  archive: ^3.6.1
  csv: ^6.0.0
  timezone: ^0.9.4
  nanoid2: ^2.0.0

  # Flutter-based dependencies (Required for the JIT runner to resolve types)
  easy_localization: ^3.0.7
  easy_localization_multi: ^1.0.0
  easy_localization_yaml: ^1.0.0
  home_widget: ^0.7.1
  file_picker: ^8.1.2
  share_plus: ^10.1.0
  android_intent_plus: ^5.1.0
  flutter_local_notifications: ^17.2.1
  launch_at_startup: ^1.1.0
  window_manager: ^0.3.9
  wakelock_plus: ^1.2.8
  tray_manager: ^0.2.4
  file_saver: ^0.2.14
  path_provider: ^2.1.3
  network_info_plus: ^6.0.0
  device_info_plus: ^10.1.0
  qr_code_scanner_plus: ^0.0.1
  flutter_confetti: ^0.1.0
  dynamic_color: ^1.7.0
  audioplayers: ^5.2.1
  
  acore:
    path: ./src/lib/corePackages/acore 

dependency_overrides:
  intl: ^0.19.0
  # analyzer 6.4.1 is the last version that doesn't require 
  # the experimental SDK '_macros' package on stable channels.
  analyzer: 6.4.1
  
# RPS (Runner Package Script) commands - install with: dart pub global activate rps
# Run commands from project root: rps <command>
scripts:
  # Development
  pub:get: cd src && fvm flutter pub get
  run: cd src && fvm flutter run
  run:demo: cd src && fvm flutter run --dart-define=DEMO_MODE=true
  clean: bash scripts/clean.sh
  format: bash scripts/format.sh
  lint: ./scripts/lint.sh

  # Testing
  test: cd src && fvm flutter test
  test:locale: cd src && fvm flutter test test/presentation/ui/shared/services/translation_analysis_test.dart
  test:migrate: cd src && fvm flutter test test/drift/app_database/migration_test.dart

  # Screenshots
  # Usage: rps gen:screenshots:device [locale] (e.g., rps gen:screenshots:device tr)
  gen:screenshots: cd src && bash scripts/generate_screenshots.sh ${1:---all} --

  # Code Generation
  gen: cd src && bash scripts/generate_gen_files.sh
  gen:icons: cd src && fvm flutter pub run icons_launcher:create
  gen:migrate: cd src && fvm flutter pub run drift_dev make-migrations

  # Build Releases
  release:linux: cd src && fvm flutter build linux --release
  release:windows: cd src && fvm flutter build windows --release
  release:windows:setup: cd src && fvm flutter build windows --release && ISCC.exe windows\\setup-wizard\\installer.iss
  release:android: cd src && fvm flutter build apk --release
  release:android:bundle: cd src && fvm flutter build appbundle --release

  # Version Management
  version:major: bash scripts/version_bump.sh major
  version:minor: bash scripts/version_bump.sh minor
  version:patch: bash scripts/version_bump.sh patch
  version:push: git push && git push --tags

  # Changelog
  gen:changelog: bash scripts/create_changelog.sh --auto
  gen:changelog:all: bash scripts/create_changelog.sh --all-versions --auto

  # CI/CD
  test:ci: act -j build
  test:ci:android: act -W .github/workflows/flutter-ci.android.yml -j build --secret-file .secrets
  test:ci:linux: act -W .github/workflows/flutter-ci.linux.yml -j build --secret-file .secrets
  test:ci:windows: act -W .github/workflows/flutter-ci.windows.yml -j build --secret-file .secrets
  test:ci:fdroid: bash scripts/test_ci_fdroid.sh

  # Utilities
  install:linux: bash scripts/install-linux.sh
  validate:fastlane: bash scripts/validate-fastlane-metadata.sh
